/*! cube-gallery 2021-01-19 */
"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),CubeGallery=function(){function a(b,c){var d=this,e=c.minHeight,f=c.margin;_classCallCheck(this,a),this.id=b,this.minHeight=e&&e>0?e:150,this.unit="px",this.margin=f&&f>0?f:0,this.gallery=document.querySelector("#"+this.id),this.gallery.style.fontSize="0",this.gallery.style.lineHeight="0",this.loadData(),window.addEventListener("resize",function(){d.resize()})}return _createClass(a,[{key:"loadData",value:function(){var a=this;this.galleryWidth=this.gallery.offsetWidth,this.images=document.querySelectorAll("#"+this.id+" img"),this.images.forEach(function(b){b.width=Math.floor(b.naturalWidth*a.minHeight/b.naturalHeight),b.height=a.minHeight}),this.nbImages=this.images.length}}]),a}();CubeGallery.prototype.resize=function(){return this.loadData(),this.create()},CubeGallery.prototype.create=function(){for(var a=this,b=[],c=[],d=0,e=0;e<this.nbImages;e++){var f=this.images[e],g=void 0!=this.images[e+1]?this.images[e+1]:null;d=Math.floor(d+f.width),c.push(f),(null==g||Math.floor(d+g.width)>this.galleryWidth)&&(b.push(c),d=0,c=[])}return b.forEach(function(b){var c=0;b.forEach(function(a){return c=Math.floor(c+a.width)}),b.forEach(function(b){b.style.position="relative",b.width=Math.floor(b.width*(b.height*a.galleryWidth/c)/b.height-2*a.margin),b.height=Math.floor(b.height*a.galleryWidth/c-2*a.margin),b.style.margin=a.margin+"px"})}),this};